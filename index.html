<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Task - ES6 Modules</title>
    <script src="lib/browser.js"></script>
</head>
<body>
    <ul id="log-output"></ul>
    
    <script type="text/javascript">
    
        var statusLightsOn = false;
        var statusMotorRunning = false;
        var statusCarReady = statusLightsOn && statusMotorRunning;
        
        function start() {
            logToView('starting...');
        
            runMotor();
            switchOnLights();
        }
        
        function runMotor() {
            statusMotorRunning = true;
            logToView('motor is running... "puff puff"');
        }
        
        function switchOnLights() {
            statusLightsOn = true;
            logToView('Headlights now on...');
        }
        
        function logToView(message) {
            var li = document.createElement('li');
            li.appendChild(document.createTextNode(message));
            document.querySelector('#log-output').appendChild(li);
        }
        
        document.addEventListener("DOMContentLoaded", function() {
            start();
            console.log("Status:", statusCarReady ? "car running" : "car not running");
        });
    
    </script>
</body>
</html>